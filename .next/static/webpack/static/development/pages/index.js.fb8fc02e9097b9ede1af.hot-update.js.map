{"version":3,"file":"static/webpack/static\\development\\pages\\index.js.fb8fc02e9097b9ede1af.hot-update.js","sources":["webpack:///./components/PostForm.js"],"sourcesContent":["import React, { useCallback, useState, useEffect } from 'react';\r\nimport { Input, Button, Form } from 'antd';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { ADD_POST_REQUEST } from '../reducers/post';\r\n\r\nconst PostForm = () => {\r\n    const dispatch =  useDispatch();\r\n    const [text, setText] = useState('');\r\n    const { imagePaths, isAddingPost, postAdded } = useSelector(state => state.post);\r\n\r\n    useEffect(() => {\r\n        setText('');\r\n    }, [postAdded === true]);\r\n    \r\n    const onSubmitForm = useCallback((e) => {\r\n        e.preventDefault();\r\n        if (!text || !text.trim()){\r\n            alert('please write contents');\r\n        }\r\n        dispatch({\r\n            type: ADD_POST_REQUEST,\r\n            data: {\r\n                content: text,\r\n            }\r\n        })    \r\n    }, [text]);\r\n\r\n    const onChangeText = useCallback((e) => {\r\n        setText(e.target.value);\r\n    }, []);\r\n\r\n    return (\r\n        <Form style={{margin: '10px 0 120px'}} encType=\"multipart/form-data\" onSubmit={onSubmitForm}>\r\n            <Input.TextArea maxLength={140} placeholder=\"what funny things happened ?\" value={text} onChange={onChangeText}/>\r\n            <div>\r\n                <input type=\"file\" multiple hidden />\r\n                <Button>upload image</Button>\r\n                <Button type=\"primary\" style={{float: 'right'}} htmlType=\"submit\" loading={isAddingPost}>post</Button>\r\n            </div>\r\n            <div>\r\n                {imagePaths.map((v) => (\r\n                    <div  key={v} style={{display:'inline-block'}}>\r\n                        <img src={`http://localhost:3065/${v}`} style={{width: '200px'}} alt = {v} />\r\n                        <div>\r\n                            <Button>delete</Button>\r\n                        </div>\r\n                    </div>)\r\n                )}\r\n            </div>\r\n        </Form>\r\n    );\r\n}\r\n\r\nexport default PostForm;"],"mappings":";;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAFA;AAAA;AAAA;AACA;AADA;AAGA;AAAA;AAHA;AAAA;AAAA;AACA;AAIA;AACA;AACA;AAEA;AACA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AADA;AAFA;AAMA;AAEA;AACA;AACA;AAEA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAJA;AAWA;AACA;AACA;;;;A","sourceRoot":""}